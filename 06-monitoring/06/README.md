# Домашнее задание к занятию 17 «Инцидент-менеджмент»

## Задание

Составьте постмортем на основе реального сбоя системы GitHub в 2018 году.

Информацию о сбое можно изучить по ссылкам ниже:

* [краткое описание на русском языке](https://habr.com/ru/post/427301/);
* [развёрнутое описание на английском языке](https://github.blog/2018-10-30-oct21-post-incident-analysis/).

#
## Постмортем

| Заголовок                  | Описание        |
| -------------------------: | --------------- |
| Краткое описание инцидента | 21 октября 2018 в 22:52 UTC плановые работы по техническому обслуживанию по замене вышедшего из строя оптического оборудования 100G привели к потере соединения между сетевым концентратором на восточном побережье США и основным центром обработки данных на восточном побережье США. Соединение между этими точками было восстановлено за 43 секунды, но этот кратковременный сбой вызвал цепочку событий, которые привели к ухудшению качества обслуживания на 24 часа и 11 минут.   |
| Причина инцидента          | потеря соединения между сетевым концентратором на восточном побережье США и основным центром обработки данных на восточном побережье США   |
| Воздействие                | частично снизить удобство использования сайта, приостановлена доставка webhook'ов и сборка страниц GitHub   |
| Обнаружение                | мониторинг начал генерировать оповещения, указывающие на многочисленные сбои в системах   |
| Реакция                    | были вызваны дополнительные инженеры из группы разработки баз данных, восстановление кластеров из резервных копий, репликация данных    |
| Восстановление             | восстановление кластеров из резервных копий |

## Таймлайн
| Таймлайн                   | Описание        |
| -------------------------: | --------------- |
| 2018 21 октября 22:52 UTC  | потеря соединения между сетевым концентратором на восточном побережье США и основным центром обработки данных на восточном побережье США |
| 2018 21 октября 22:54 UTC  | мониторинг начал генерировать оповещения, указывающие на многочисленные сбои в системах   |
| 2018 21 октября 23:07 UTC  | группа реагирования решила вручную заблокировать внутренние инструменты развертывания, чтобы предотвратить внесение каких-либо дополнительных изменений |
| 2018 21 октября 23:13 UTC  | были вызваны дополнительные инженеры из группы разработки баз данных |
| 2018 21 октября 23:19 UTC  | принято решение частично снизить удобство использования сайта, приостановив доставку webhook'ов и сборку страниц GitHub   |
| 2018 22 октября 00:05 UTC  | разработка плана по устранению несоответствий данных и реализации наших процедур аварийного переключения для MySQL   |
| 2018 22 октября 00:41 UTC  | начат процесс резервного копирования для всех затронутых кластеров MySQL |
| 2018 22 октября 06:51 UTC  | несколько кластеров завершили восстановление из резервных копий в центре обработки данных на восточном побережье США и начали репликацию новых данных с западного побережья   |
| 2018 22 октября 07:46 UTC  | GitHub опубликовал сообщение в блоге |
| 2018 22 октября 11:12 UTC  | все первичные базы данных снова установлены на восточном побережье США   |
| 2018 22 октября 13:15 UTC  | задержки репликации увеличивались |
| 2018 22 октября 16:24 UTC  | реплики были синхронизированы, выполнили переход на исходную топологию   |
| 2018 22 октября 16:45 UTC  | начало обработки webhook'ов   |
| 2018 22 октября 23:03 UTC  | все ожидающие сборки webhook'ов и страниц были обработаны, а целостность и правильная работа всех систем подтверждены |


## Последующие действия
| Действия                  | Описание        |
| -------------------------: | --------------- |
| Настройка конфигурации Orchestrator       | Настройка конфигурации Orchestrator, чтобы предотвратить распространение основных баз данных за пределы региональных границ   |
| Новый механизм отчетности о статусе       | переход на новый механизм отчетности о статусе, который предоставит нам более обширную площадку для обсуждения активных инцидентов    |
| Резервирование N+1     | Ускорили проект по внедрению резервирования N+1   |
| Организационные инициативы   | начало систематических практик проверки сценариев неудач до того, как они могут случиться |